(()=>{"use strict";class e{constructor(e,t="_"){this._mask=e.replace(/[d]/g,t),this._placeholder=t,this._mapBuffer=[],e.split("").forEach(((e,t)=>"d"===e?this._mapBuffer.push(t):null)),this._buffer="".padEnd(this._mapBuffer.length,t),this._value=this._mask.split("")}get mask(){return this._mask}start(e){return this._buffer=e.replace(/[^\d]/g,"").slice(0,this._mapBuffer.length).padEnd(this._mapBuffer.length,this._placeholder),this._value=this._mask.split(""),this._buffer.split("").forEach(((e,t)=>this._value[this._mapBuffer[t]]=e)),this._mask}edit(e,t){let r=e.selectionStart;if(t||(e.value=this.start(e.value)),"insertText"===t){const t=e.value.slice(r-1,r).replace(/[^\d]/,""),s=t?this._mapBuffer.findIndex((e=>e>=r-1)):-1;if(~s){const e=this._buffer;if(e.slice(s,s+1)===this._placeholder){const r=e.split("");r[s]=t,this._buffer=r.join("")}else this._buffer=(s?e.slice(0,s):"")+t+e.slice(s,e.length-1);this._mapBuffer.forEach(((e,t)=>this._value.splice(e,1,this._buffer.slice(t,t+1)))),s+1<this._mapBuffer.length&&(r=this._mapBuffer[s+1])}else r--}else if("deleteContentForward"===t){const e=this._mapBuffer.findIndex((e=>e>=r));if(~e){const t=this._buffer;this._buffer=((e?t.slice(0,e):"")+t.slice(e+1,t.length)).padEnd(this._mapBuffer.length,this._placeholder),this._mapBuffer.forEach(((e,t)=>this._value.splice(e,1,this._buffer.slice(t,t+1)))),e<this._mapBuffer.length&&(r=this._mapBuffer[e])}}else if("deleteContentBackward"===t){const e=this._mapBuffer.filter((e=>e<=r)).length-1;if(~e){const t=this._buffer;this._buffer=((e?t.slice(0,e):"")+t.slice(e+1,t.length)).padEnd(this._mapBuffer.length,this._placeholder),this._mapBuffer.forEach(((e,t)=>this._value.splice(e,1,this._buffer.slice(t,t+1)))),e<this._mapBuffer.length&&(r=this._mapBuffer[e])}else r++}e.value=this._value.join(""),e.setSelectionRange(r,r)}}const t=({draw:e,duration:t=1e3,timingplane:r="linear"})=>{const s={linear:e=>e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeOutQuart:e=>1-Math.pow(1-e,5),aseOutExpo:e=>1===e?1:1-Math.pow(2,-10*e)};r in s||(r="linear");const o=Math.max(Math.round(t/16.7),1);let i=0;requestAnimationFrame((function t(){let l=0===i?0:i>o-1?1:s[r](i/o);e(l),i<o&&(i++,requestAnimationFrame(t))}))},r=(e,r=1e3)=>{const s=window.scrollY,o=document.querySelector(e).getBoundingClientRect().top;t({duration:r,timingplane:"easeOutCubic",draw(e){window.scrollTo(0,s+o*e)}})};class s{constructor({url:e,errorMessageResponse:t="Ошибка сервера.",headers:r={"Content-Type":"application/json"}}){this._url=e,this._errorMessageResponse=t,this._headers=r}async request(e="GET",t="",r={}){document.preloader.start();try{const s={method:e,headers:this._headers};"POST PATCH PUT".includes(e)&&(s.body=JSON.stringify(r));const o=await fetch(this._url+t,s);if(!o.ok)throw new Error(this._errorMessageResponse);const i=await o.json();return document.preloader.stop(),i}catch(e){throw document.preloader.stop(),new Error(this._errorMessageResponse)}}use(e){return this.request("GET",e?`/${e}`:"")}filter(e){return this.request("GET",`?${e}`)}useSort(e){return this.request("GET",`?_sort=${e.field}&_order=${e.order}`)}add(e){return this.request("POST","",e)}delete(e){return this.request("DELETE",`/${e}`)}edit(e,t){return this.request("PUT",`/${e}`,t)}change(e,t){return this.request("PATCH",`/${e}`,t)}}(()=>{const e=document.querySelector(".popup-menu");document.querySelector("body").addEventListener("click",(t=>{let s,o,i=null;t.target.closest(".menu")&&!t.target.closest(".menu-phone-icon")||t.target.closest(".close-menu")||(i=t.target.closest(".popup-menu-nav__item"))||(s=t.target.closest(".link-list-menu"))||!t.target.closest(".popup-dialog-menu")&&e.classList.contains("active-popup")?(t.preventDefault(),e.classList.toggle("active-popup")):(o=t.target.closest(".button-footer"))?(t.preventDefault(),r(o.firstChild.getAttribute("href"))):t.target.closest(".link-privacy")?document.modalList.open("popup-privacy"):t.target.closest(".button_wide")?document.modalList.open("popup-consultation"):(s=t.target.closest(".link-list-repair"))||(t.target.closest(".popup .close")||t.target.closest(".popup")&&t.target.classList.contains("active-popup"))&&document.modalList.close(t.target.closest(".popup")),i&&(t.preventDefault(),r(i.firstChild.getAttribute("href"))),s&&document.modalList.open("popup-repair-types")})),document.querySelector("body").addEventListener("submit",(e=>{e.preventDefault(),document.sendForm.send(e.target)}))})(),document.modalList=new class{constructor(e,t){this._listLinks=[],this._body=document.querySelector("body"),this._countOpen=0,this._classOpen=t,document.querySelectorAll("."+e).forEach((e=>this._listLinks.push(e)))}open(e){const t=this._listLinks.find((t=>t.classList.contains(e)));t&&(this._countOpen||(this._body.style.overflow="hidden"),t.classList.add(this._classOpen),this._countOpen++)}close(e){const t=this._listLinks.find((t=>t===e));t&&(t.classList.remove(this._classOpen),this._countOpen--,this._countOpen||(this._body.style.overflow=""))}}("popup","active-popup"),document.preloader=new class{constructor(){const e=document.createElement("div"),t=document.createElement("div");let r=document.createElement("div");e.classList.add("preloader"),t.classList.add("preloader__row"),r.classList.add("preloader__item"),t.append(r),t.append(r.cloneNode(!1)),e.append(t),document.querySelector("body").append(e),this._preloader=e}start(){this._preloader.classList.add("working")}stop(){window.setTimeout((()=>{this._preloader.classList.remove("working")}),500)}},(()=>{const e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord"),r=t.querySelector(".header-contacts__phone-number");e.addEventListener("click",(s=>{e.classList.toggle("open"),t.classList.toggle("open"),r.classList.toggle("open")}))})(),(()=>{const t=document.querySelector("body"),r=/[^а-яё\s\-]+/gi,s=/(^[\s\-]+|^)(.*?)(?:([\s\-]+$)|$)/i,o=/(\s{2,})|(\-{2,})/g,i=/((^|\s\-|\s|\-)[а-я])([а-я]*)/gi;document.querySelectorAll('input[name="phone"]').forEach((t=>{t.maskPhone=new e("+7 (ddd) ddd-dd-dd")})),t.addEventListener("input",(e=>{e.target.closest('input[name="phone"]')?(e.target.maskPhone.edit(e.target,e.inputType),e.target.classList.remove("error-input")):e.target.closest(".feedback-block__form-input_name")?(e.target.value=e.target.value.replace(r,""),e.target.classList.remove("error-input")):e.target.closest(".checkbox__input")&&e.target.parentNode.classList.remove("error-input")})),t.addEventListener("focusout",(e=>{if(e.target.closest(".feedback-block__form-input_name")){let t=e.target.value;t=t.replace(i,((e,t,r,s)=>t.toUpperCase()+s.toLowerCase())),t=t.replace(s,((e,t,r)=>`${r}`)),t=t.replace(o,((e,t,r)=>(t?" ":"")+(r?"-":""))),e.target.value=t}})),t.addEventListener("cut",(e=>{e.target.closest('input[name="phone"]')&&e.preventDefault()})),t.addEventListener("paste",(e=>{e.target.closest('input[name="phone"]')&&e.preventDefault()}))})(),document.sendForm=new class{constructor({url:e,errorMessageResponse:t="Ошибка сервера.",optionals:r={}}){this._dataForm=new s({url:e,errorMessageResponse:t}),this._optionals=r}send(e){const t=e.querySelector(".feedback-block__form-input_name"),r=e.querySelector(".checkbox__input"),s=e.querySelector('input[name="phone"]'),o=e.closest(".popup"),i=new FormData(e),l={};i.forEach(((e,t)=>{l[t]="phone"===t?e.replace(/[^\d]+/g,""):e})),r.checked&&(!t||t.value.trim().length>2)&&11===s.value.replace(/[^\d]+/g,"").length?(e.id in this._optionals&&this._optionals[e.id].forEach((e=>{let t;"name"in e&&"assign"in e&&("select"in e?(t=document.querySelector(e.select))&&(l[e.name]=e.assign in t?t[e.assign]:e.assign):l[e.name]=e.assign)})),o&&document.modalList.close(o),this._dataForm.add(l).then((e=>{r.checked=!1,s.value="",t&&(t.value=""),document.modalList.open("popup-thank")})).catch((e=>{document.modalList.open("popup-thank-error")}))):(r.checked||r.parentNode.classList.add("error-input"),t&&t.value.trim()<3&&t.classList.add("error-input"),11!==s.value.replace(/[^\d]+/g,"").length&&s.classList.add("error-input"))}}({url:"https://jsonplaceholder.typicode.com/posts",optionals:{feedback1:[{name:"form",assign:"feedback1"}],feedback2:[{name:"form",assign:"feedback2"}],feedback3:[{name:"form",assign:"feedback3"}],feedback4:[{name:"form",assign:"feedback4"}],feedback5:[{name:"form",assign:"feedback5"}],feedback6:[{name:"form",assign:"feedback6"}]}}),(()=>{const e=document.querySelector(".formula"),r=e.querySelector(".formula-slider"),s=e.querySelectorAll(".formula-slider__slide"),o=e.querySelector("#formula-arrow_left"),i=e.querySelector("#formula-arrow_right");let l=null,n=1;s[0].classList.add("active-item"),o.classList.add("hide"),e.addEventListener("mouseover",(e=>{if(e.target.closest(".formula-item__icon")){l&&l.classList.remove("active-item","rotate"),l=e.target.classList.contains("formula-item__icon")?e.target.parentElement:e.target.parentElement.parentElement;const t=l.querySelector(".formula-item-popup"),r=l.getBoundingClientRect().top>t.offsetHeight;l.classList.add("active-item"),r&&l.classList.add("rotate")}})),e.addEventListener("mouseout",(e=>{e.target.closest(".formula-item__icon")&&(l&&l.classList.remove("active-item","rotate"),l=null)})),e.addEventListener("click",(e=>{if(e.target.closest(".slider-arrow")){const l=-100*(n-1),a=e.target.closest("#formula-arrow_right")?-100:100;s[n-1].classList.remove("active-item"),a<0?n++:n--,o.classList.remove("hide"),i.classList.remove("hide"),1===n&&o.classList.add("hide"),6===n&&i.classList.add("hide"),t({duration:500,timingplane:"easeInOutCubic",draw(e){r.style.left=l+a*e+"%",1===e&&s[n-1].classList.add("active-item")}})}}))})(),(()=>{const e=document.getElementById("repair-types"),r=e.querySelector(".nav-list-repair"),s=[...e.querySelectorAll(".repair-types-nav__item")],o=e.querySelector(".slider-arrow_left"),i=e.querySelector(".slider-arrow_right"),l=e.querySelector(".nav-arrow_left"),n=e.querySelector(".nav-arrow_right"),a=e.querySelector(".slider-counter-responsive"),c=a.querySelector(".slider-counter-content__current"),d=a.querySelector(".slider-counter-content__total"),u=e=>+e.className.replace(/[^\d]+/g,"")-1;let p=null;const m=()=>{o.classList.remove("hide"),i.classList.remove("hide"),0===p.currentSlide&&o.classList.add("hide"),p.currentSlide+1===p.slides.length&&i.classList.add("hide")},h=e=>{e!==p&&(p&&(p.slides[p.currentSlide].classList.remove("repair-slide-current"),p.classList.remove("active")),p=e,p.classList.add("active"),p.slides[p.currentSlide].classList.add("repair-slide-current"),c.textContent=p.currentSlide+1,d.textContent=p.slides.length,m(),r.style.left=-100*u(p)+"%",(()=>{const e=u(p);l.classList.remove("hide"),n.classList.remove("hide"),0===e&&l.classList.add("hide"),e===s.length-1&&n.classList.add("hide")})())};e.addEventListener("click",(e=>{let o;var i;(o=e.target.closest(".repair-types-nav__item"))?h(o):(o=e.target.closest(".slider-arrow"))?(i=o.classList.contains("slider-arrow_right")?1:-1,p.slides[p.currentSlide].classList.remove("repair-slide-current"),p.currentSlide=i>0?Math.min(p.slides.length-1,p.currentSlide+1):Math.max(0,p.currentSlide-1),p.slides[p.currentSlide].classList.add("repair-slide-current"),c.textContent=p.currentSlide+1,m()):(o=e.target.closest(".nav-arrow"))&&(e=>{const o=u(p),i=-100*o,l=-100*e;t({duration:300,timingplane:"easeInOutCubic",draw(t){r.style.left=i+l*t+"%",1===t&&h(s[o+e])}})})(o.classList.contains("nav-arrow_right")?1:-1)})),s.forEach(((t,r)=>{t.slides=[],t.sliders=e.querySelector(".types-repair"+(r+1)),t.currentSlide=0,t.sliders.querySelectorAll(".repair-types-slider__slide").forEach((e=>{t.slides.push(e)}))})),h(s[0])})(),(e=>{const t=document.querySelector(".nav-list-popup-repair"),r=document.getElementById("switch-inner"),o=document.querySelector(".popup-repair-types-content-table__list tbody");t.selected=null,document.dataRepairFull=new s({url:"http://localhost:4545/items",errorMessageResponse:"Сервер регистрации недоступен. Запрос отменен."});const i=e=>{t.selected=e,e.style.background="rgba(223,205,168,0.7",r.textContent=e.textContent,document.dataRepairFull.filter(`type=${e.textContent}`).then((e=>{(e=>{let t="";e.forEach((e=>{t+=`\n      <tr class="mobile-row showHide">\n        <td class="repair-types-name">${e.name}</td>\n        <td class="mobile-col-title tablet-hide desktop-hide">Ед.измерения</td>\n        <td class="mobile-col-title tablet-hide desktop-hide">Цена за ед.</td>\n        <td class="repair-types-value">${e.units}</td>\n        <td class="repair-types-value">${e.cost} руб.</td>\n      </tr>\n      `})),o.innerHTML="",o.insertAdjacentHTML("beforeend",t)})(e.sort(((e,t)=>e.name>t.name?1:e.name<t.name?-1:0)))}))};document.dataRepairFull.useSort({field:"type",order:"asc"}).then((e=>{let r="Все типы услуг",s="";e.forEach((e=>{e.type!==r&&(s+=`<button class="button_o popup-repair-types-nav__item">${e.type}</button>`,r=e.type)})),t.innerHTML=s,i(t.firstChild)})),t.addEventListener("click",(e=>{e.target.closest(".nav-list-popup-repair")&&(t.selected.style.background="",i(e.target))}))})(),(()=>{const e=document.querySelector(".portfolio-slider-wrap"),s=e.querySelector(".portfolio-wrap-desktop"),o=s.querySelector(".portfolio-slider"),i=o.querySelectorAll(".portfolio-slider__slide-frame"),l=e.querySelector(".portfolio-wrap-mobile"),n=l.querySelector(".portfolio-slider-mobile"),a=n.querySelectorAll(".portfolio-slider__slide-frame"),c=a.length,d=c/2,u=e.querySelector("#portfolio-arrow_left"),p=e.querySelector("#portfolio-arrow_right"),m=e.querySelector("#portfolio-arrow-mobile_left"),h=e.querySelector("#portfolio-arrow-mobile_right"),f=l.querySelector(".slider-counter"),_=f.querySelector(".slider-counter-content__current"),g=f.querySelector(".slider-counter-content__total"),y=()=>{const e=-parseInt(o.style.left),t=o.currentWidth/d,r=Math.ceil((document.portfolioCurrentSlide+1)/2),i=Math.max(0,r*t-s.currentWidth),l=(r-1)*t-Math.max(0,s.currentWidth-(d-r+1)*t);e<i?o.style.left=-i+"px":e>l&&(o.style.left=-l+"px")},S=()=>{y(),n.style.left=100*-document.portfolioCurrentSlide+"%",_.textContent=document.portfolioCurrentSlide+1,u.classList.remove("hide"),p.classList.remove("hide"),m.classList.remove("hide"),h.classList.remove("hide"),document.portfolioCurrentSlide<2&&u.classList.add("hide"),document.portfolioCurrentSlide>c-3&&p.classList.add("hide"),0===document.portfolioCurrentSlide&&m.classList.add("hide"),document.portfolioCurrentSlide===c-1&&h.classList.add("hide")};e.addEventListener("click",(i=>{const l=i.target.closest(".mobile-hide");let a;(a=i.target.closest(".slider-arrow"))?l?(e=>{const r=-parseInt(o.style.left),i=o.currentWidth/d;let l,n;e>0?(l=Math.min(d,Math.round((r+s.currentWidth+i)/i)),n=r+(s.currentWidth-l*i)):(l=Math.max(1,Math.round(r/i)),n=r-(l-1)*i),document.portfolioCurrentSlide=2*(l-1)+(document.portfolioCurrentSlide%2?1:0),t({duration:400,timingplane:"easeInOutCubic",draw(e){o.style.left=n*e-r+"px",1===e&&S()}})})(a.classList.contains("slider-arrow_right")?1:-1):(e=>{const r=-100*document.portfolioCurrentSlide,s=-100*e;document.portfolioCurrentSlide=e>0?Math.min(c-1,document.portfolioCurrentSlide+1):Math.max(0,document.portfolioCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){n.style.left=r+s*e+"%",1===e&&S()}})})(a.classList.contains("slider-arrow_right")?1:-1):(a=i.target.closest(".portfolio-slider__slide-frame"))&&(document.portfolioCurrentSlide=a.number,((e,s)=>{const o=document.querySelector(".popup-portfolio"),i=o.querySelector(".popup-portfolio-slider"),l=o.querySelector(".popup-portfolio-slider-text"),n=i.querySelectorAll(".popup-portfolio-slider__slide").length,a=o.querySelector(".nav-arrow_left"),c=o.querySelector(".nav-arrow_right"),d=o.querySelector(".slider-counter"),u=d.querySelector(".slider-counter-content__current"),p=d.querySelector(".slider-counter-content__total"),m=()=>{i.style.left=100*-document.portfolioCurrentSlide+"%",l.style.left=100*-document.portfolioCurrentSlide+"%",u.textContent=document.portfolioCurrentSlide+1,a.classList.remove("hide"),c.classList.remove("hide"),0===document.portfolioCurrentSlide&&a.classList.add("hide"),document.portfolioCurrentSlide===n-1&&c.classList.add("hide")},h=a=>{let c;(c=a.target.closest(".nav-arrow"))?(e=>{const r=-100*document.portfolioCurrentSlide,s=-100*e;document.portfolioCurrentSlide=e>0?Math.min(n-1,document.portfolioCurrentSlide+1):Math.max(0,document.portfolioCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){i.style.left=r+s*e+"%",l.style.left=r+s*e+"%",1===e&&m()}})})(c.classList.contains("nav-arrow_right")?1:-1):(a.target.closest(".close")||a.target.closest(".popup")&&a.target.classList.contains("active-popup"))&&(o.removeEventListener("click",h),e.classList.remove("hide"),s(),r(".portfolio-title"))};o.addEventListener("click",h),p.textContent=n,m(),e.classList.add("hide")})(e,S),document.modalList.open("popup-portfolio"))})),e.resizeObserver=new window.ResizeObserver((e=>{e.forEach((e=>{let t,r;t=e.borderBoxSize1?Math.round(e.borderBoxSize[0].inlineSize):Math.round(e.contentRect.width),r=t-(e.target.currentWidth||0),e.target.currentWidth=t,e.target===s&&t&&r&&y()}))})),e.resizeObserver.observe(o),e.resizeObserver.observe(s),g.textContent=c,document.portfolioCurrentSlide=0,o.style.left="0px",i.forEach(((e,t)=>e.number=t)),a.forEach(((e,t)=>e.number=t))})(),(()=>{const e=document.querySelector(".reviews"),r=e.querySelector(".reviews-slider"),s=r.querySelectorAll(".reviews-slider__slide").length,o=e.querySelector(".slider-arrow_left"),i=e.querySelector(".slider-arrow_right");let l=0;e.addEventListener("click",(e=>{let n;(n=e.target.closest(".slider-arrow"))&&(e=>{const n=-100*l,a=-100*e;l=e>0?Math.min(s-1,l+1):Math.max(0,l-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){r.style.left=n+a*e+"%",1===e&&(r.style.left=100*-l+"%",o.classList.remove("hide"),i.classList.remove("hide"),0===l&&o.classList.add("hide"),l===s-1&&i.classList.add("hide"))}})})(n.classList.contains("slider-arrow_right")?1:-1)}))})(),(()=>{const e=document.querySelector(".transparency-slider"),s=e.querySelector(".transparency-slider-wrap").querySelector(".row"),o=s.querySelectorAll(".transparency-item"),i=o.length,l=e.querySelector("#transparency-arrow_left"),n=e.querySelector("#transparency-arrow_right"),a=()=>{s.style.left=100*-document.transparencyCurrentSlide+"%",l.classList.remove("hide"),n.classList.remove("hide"),0===document.transparencyCurrentSlide&&l.classList.add("hide"),document.transparencyCurrentSlide===i-1&&n.classList.add("hide")};e.addEventListener("click",(o=>{let l;(l=o.target.closest(".slider-arrow"))?(e=>{const r=-100*document.transparencyCurrentSlide,o=-100*e;document.transparencyCurrentSlide=e>0?Math.min(i-1,document.transparencyCurrentSlide+1):Math.max(0,document.transparencyCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){s.style.left=r+o*e+"%",1===e&&a()}})})(l.classList.contains("slider-arrow_right")?1:-1):(l=o.target.closest(".transparency-item"))&&(document.transparencyCurrentSlide=l.number,((e,s)=>{const o=document.querySelector(".popup-transparency"),i=o.querySelector(".popup-transparency-slider"),l=i.querySelectorAll(".popup-transparency-slider__slide").length,n=o.querySelector(".nav-arrow_left"),a=o.querySelector(".nav-arrow_right"),c=o.querySelector("#transparency-popup-counter"),d=c.querySelector(".slider-counter-content__current"),u=c.querySelector(".slider-counter-content__total"),p=()=>{i.style.left=100*-document.transparencyCurrentSlide+"%",d.textContent=document.transparencyCurrentSlide+1,n.classList.remove("hide"),a.classList.remove("hide"),0===document.transparencyCurrentSlide&&n.classList.add("hide"),document.transparencyCurrentSlide===l-1&&a.classList.add("hide")},m=n=>{let a;(a=n.target.closest(".nav-arrow"))?(e=>{const r=-100*document.transparencyCurrentSlide,s=-100*e;document.transparencyCurrentSlide=e>0?Math.min(l-1,document.transparencyCurrentSlide+1):Math.max(0,document.transparencyCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){i.style.left=r+s*e+"%",1===e&&p()}})})(a.classList.contains("nav-arrow_right")?1:-1):(n.target.closest(".close")||n.target.closest(".popup")&&n.target.classList.contains("active-popup"))&&(o.removeEventListener("click",m),e.classList.remove("hide"),s(),r(".transparency-title"))};o.addEventListener("click",m),u.textContent=l,p(),e.classList.add("hide")})(e,a),document.modalList.open("popup-transparency"))})),document.transparencyCurrentSlide=0,o.forEach(((e,t)=>e.number=t))})(),(()=>{const e=document.querySelector(".accordion"),t=[...e.children];let s=-1;e.addEventListener("click",(e=>{const o=e.target.closest("h2");o&&(e=>{const o=t.findIndex((t=>t===e)),i="accordion-more-active",l=~s?t[s].firstElementChild.nextElementSibling:null,n=s===o?null:e.firstElementChild.nextElementSibling;~s&&(s<o&&(l.style.transition="max-height 0s ease-out",window.scrollTo(0,window.scrollY-parseInt(l.style.maxHeight))),t[s].classList.remove(i),l.style.maxHeight=""),s===o?s=-1:(e.classList.add(i),n.style.maxHeight=n.scrollHeight+"px",window.setTimeout((()=>{r(".accordion-more-active",500),~s&&(l.style.transition=""),s=o}),0))})(o.parentElement)}))})()})();