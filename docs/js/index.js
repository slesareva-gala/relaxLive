(()=>{"use strict";class e{constructor(e,t="_"){this._mask=e.replace(/[d]/g,t),this._placeholder=t,this._mapBuffer=[],e.split("").forEach(((e,t)=>"d"===e?this._mapBuffer.push(t):null)),this._buffer="".padEnd(this._mapBuffer.length,t),this._value=this._mask.split("")}get mask(){return this._mask}start(e){return this._buffer=e.replace(/[^\d]/g,"").slice(0,this._mapBuffer.length).padEnd(this._mapBuffer.length,this._placeholder),this._value=this._mask.split(""),this._buffer.split("").forEach(((e,t)=>this._value[this._mapBuffer[t]]=e)),this._mask}edit(e,t){let r=e.selectionStart;if(t||(e.value=this.start(e.value)),"insertText"===t){const t=e.value.slice(r-1,r).replace(/[^\d]/,""),s=t?this._mapBuffer.findIndex((e=>e>=r-1)):-1;if(~s){const e=this._buffer;if(e.slice(s,s+1)===this._placeholder){const r=e.split("");r[s]=t,this._buffer=r.join("")}else this._buffer=(s?e.slice(0,s):"")+t+e.slice(s,e.length-1);this._mapBuffer.forEach(((e,t)=>this._value.splice(e,1,this._buffer.slice(t,t+1)))),s+1<this._mapBuffer.length&&(r=this._mapBuffer[s+1])}else r--}else if("deleteContentForward"===t){const e=this._mapBuffer.findIndex((e=>e>=r));if(~e){const t=this._buffer;this._buffer=((e?t.slice(0,e):"")+t.slice(e+1,t.length)).padEnd(this._mapBuffer.length,this._placeholder),this._mapBuffer.forEach(((e,t)=>this._value.splice(e,1,this._buffer.slice(t,t+1)))),e<this._mapBuffer.length&&(r=this._mapBuffer[e])}}else if("deleteContentBackward"===t){const e=this._mapBuffer.filter((e=>e<=r)).length-1;if(~e){const t=this._buffer;this._buffer=((e?t.slice(0,e):"")+t.slice(e+1,t.length)).padEnd(this._mapBuffer.length,this._placeholder),this._mapBuffer.forEach(((e,t)=>this._value.splice(e,1,this._buffer.slice(t,t+1)))),e<this._mapBuffer.length&&(r=this._mapBuffer[e])}else r++}e.value=this._value.join(""),e.setSelectionRange(r,r)}}const t=({draw:e,duration:t=1e3,timingplane:r="linear"})=>{const s={linear:e=>e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeOutQuart:e=>1-Math.pow(1-e,5),aseOutExpo:e=>1===e?1:1-Math.pow(2,-10*e)};r in s||(r="linear");const o=Math.max(Math.round(t/16.7),1);let i=0;requestAnimationFrame((function t(){let n=0===i?0:i>o-1?1:s[r](i/o);e(n),i<o&&(i++,requestAnimationFrame(t))}))},r=(e,r=1e3)=>{const s=window.scrollY,o=document.querySelector(e).getBoundingClientRect().top;t({duration:r,timingplane:"easeOutCubic",draw(e){window.scrollTo(0,s+o*e)}})};class s{constructor({url:e,urlDemo:t,errorMessageResponse:r="Ошибка сервера.",headers:s={"Content-Type":"application/json"}}){this._url=e,this._urlDemo=t,this._errorMessageResponse=r,this._headers=s}async request(e="GET",t="",r={}){document.preloader.start();try{const s={method:e,headers:this._headers};let o;"POST PATCH PUT".includes(e)&&(s.body=JSON.stringify(r));try{if(o=await fetch(this._url+t,s),!o.ok)throw new Error(this._errorMessageResponse)}catch(e){if(o=await fetch(this._urlDemo+t,s),!o.ok)throw new Error(this._errorMessageResponse);console.error("Страница переключена на демонстрационный режим"),document.taskDemo=1}const i=await o.json();return document.preloader.stop(),i}catch(e){throw document.preloader.stop(),new Error(this._errorMessageResponse)}}use(e){return this.request("GET",e?`/${e}`:"")}filter(e){return this.request("GET",`?${e}`)}useSort(e){return this.request("GET",`?_sort=${e.field}&_order=${e.order}`)}add(e){return this.request("POST","",e)}delete(e){return this.request("DELETE",`/${e}`)}edit(e,t){return this.request("PUT",`/${e}`,t)}change(e,t){return this.request("PATCH",`/${e}`,t)}}(()=>{const e=document.querySelector(".popup-menu"),t=e.querySelector(".popup-dialog-menu");document.querySelector("body").addEventListener("click",(s=>{let o,i,n=null;s.target.closest(".menu")&&!s.target.closest(".menu-phone-icon")||s.target.closest(".close-menu")||(n=s.target.closest(".popup-menu-nav__item"))||(o=s.target.closest(".link-list-menu"))||!s.target.closest(".popup-dialog-menu")&&e.classList.contains("active-popup")?(s.preventDefault(),e.classList.contains("active-popup")?(t.classList.remove("active-menu"),window.setTimeout((()=>{e.classList.remove("active-popup")}),1e3)):(e.classList.add("active-popup"),window.setTimeout((()=>{t.classList.add("active-menu")}),0))):(i=s.target.closest(".button-footer"))?(s.preventDefault(),r(i.firstChild.getAttribute("href"))):s.target.closest(".link-privacy")?document.modalList.open("popup-privacy"):s.target.closest(".button_wide")?document.modalList.open("popup-consultation"):(o=s.target.closest(".link-list-repair"))||(s.target.closest(".popup .close")||s.target.closest(".popup")&&s.target.classList.contains("active-popup"))&&document.modalList.close(s.target.closest(".popup")),n&&(s.preventDefault(),r(n.firstChild.getAttribute("href"))),o&&document.modalList.open("popup-repair-types")})),document.querySelector("body").addEventListener("submit",(e=>{e.preventDefault(),document.sendForm.send(e.target)}))})(),document.modalList=new class{constructor(e,t){this._listLinks=[],this._body=document.querySelector("body"),this._countOpen=0,this._classOpen=t,document.querySelectorAll("."+e).forEach((e=>this._listLinks.push(e)))}open(e){const t=this._listLinks.find((t=>t.classList.contains(e)));t&&(this._countOpen||(this._body.style.overflow="hidden"),t.classList.add(this._classOpen),this._countOpen++)}close(e){const t=this._listLinks.find((t=>t===e));t&&(t.classList.remove(this._classOpen),this._countOpen--,this._countOpen||(this._body.style.overflow=""))}}("popup","active-popup"),document.preloader=new class{constructor(){const e=document.createElement("div"),t=document.createElement("div");let r=document.createElement("div");e.classList.add("preloader"),t.classList.add("preloader__row"),r.classList.add("preloader__item"),t.append(r),t.append(r.cloneNode(!1)),e.append(t),document.querySelector("body").append(e),this._preloader=e}start(){this._preloader.classList.add("working")}stop(){window.setTimeout((()=>{this._preloader.classList.remove("working")}),500)}},(()=>{const e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord"),r=t.querySelector(".header-contacts__phone-number");e.addEventListener("click",(s=>{e.classList.toggle("open"),t.classList.toggle("open"),r.classList.toggle("open")}))})(),(()=>{const t=document.querySelector("body"),r=/[^а-яё\s\-]+/gi,s=/(^[\s\-]+|^)(.*?)(?:([\s\-]+$)|$)/i,o=/(\s{2,})|(\-{2,})/g,i=/((^|\s\-|\s|\-)[а-я])([а-я]*)/gi;document.querySelectorAll('input[name="phone"]').forEach((t=>{t.maskPhone=new e("+7 (ddd) ddd-dd-dd")})),t.addEventListener("input",(e=>{e.target.closest('input[name="phone"]')?(e.target.maskPhone.edit(e.target,e.inputType),e.target.classList.remove("error-input")):e.target.closest(".feedback-block__form-input_name")?(e.target.value=e.target.value.replace(r,""),e.target.classList.remove("error-input")):e.target.closest(".checkbox__input")&&e.target.parentNode.classList.remove("error-input")})),t.addEventListener("focusout",(e=>{if(e.target.closest(".feedback-block__form-input_name")){let t=e.target.value;t=t.replace(i,((e,t,r,s)=>t.toUpperCase()+s.toLowerCase())),t=t.replace(s,((e,t,r)=>`${r}`)),t=t.replace(o,((e,t,r)=>(t?" ":"")+(r?"-":""))),e.target.value=t}})),t.addEventListener("cut",(e=>{e.target.closest('input[name="phone"]')&&e.preventDefault()})),t.addEventListener("paste",(e=>{e.target.closest('input[name="phone"]')&&e.preventDefault()}))})(),document.sendForm=new class{constructor({url:e,errorMessageResponse:t="Ошибка сервера.",optionals:r={}}){this._dataForm=new s({url:e,errorMessageResponse:t}),this._optionals=r}send(e){const t=e.querySelector(".feedback-block__form-input_name"),r=e.querySelector(".checkbox__input"),s=e.querySelector('input[name="phone"]'),o=e.closest(".popup"),i=new FormData(e),n={};i.forEach(((e,t)=>{n[t]="phone"===t?e.replace(/[^\d]+/g,""):e})),r.checked&&(!t||t.value.trim().length>2)&&11===s.value.replace(/[^\d]+/g,"").length?(e.id in this._optionals&&this._optionals[e.id].forEach((e=>{let t;"name"in e&&"assign"in e&&("select"in e?(t=document.querySelector(e.select))&&(n[e.name]=e.assign in t?t[e.assign]:e.assign):n[e.name]=e.assign)})),o&&document.modalList.close(o),this._dataForm.add(n).then((e=>{r.checked=!1,s.value="",t&&(t.value=""),document.modalList.open("popup-thank")})).catch((e=>{document.modalList.open("popup-thank-error")}))):(r.checked||r.parentNode.classList.add("error-input"),t&&t.value.trim()<3&&t.classList.add("error-input"),11!==s.value.replace(/[^\d]+/g,"").length&&s.classList.add("error-input"))}}({url:"https://jsonplaceholder.typicode.com/posts",optionals:{feedback1:[{name:"form",assign:"feedback1"}],feedback2:[{name:"form",assign:"feedback2"}],feedback3:[{name:"form",assign:"feedback3"}],feedback4:[{name:"form",assign:"feedback4"}],feedback5:[{name:"form",assign:"feedback5"}],feedback6:[{name:"form",assign:"feedback6"}]}}),(()=>{const e=document.querySelector(".formula"),r=e.querySelector(".formula-slider"),s=e.querySelectorAll(".formula-slider__slide"),o=e.querySelector("#formula-arrow_left"),i=e.querySelector("#formula-arrow_right");let n=null,a=1;s[0].classList.add("active-item"),o.classList.add("hide"),e.addEventListener("mouseover",(e=>{if(e.target.closest(".formula-item__icon")){n&&n.classList.remove("active-item","rotate"),n=e.target.classList.contains("formula-item__icon")?e.target.parentElement:e.target.parentElement.parentElement;const t=n.querySelector(".formula-item-popup"),r=n.getBoundingClientRect().top>t.offsetHeight;n.classList.add("active-item"),r&&n.classList.add("rotate")}})),e.addEventListener("mouseout",(e=>{e.target.closest(".formula-item__icon")&&(n&&n.classList.remove("active-item","rotate"),n=null)})),e.addEventListener("click",(e=>{if(e.target.closest(".slider-arrow")){const n=-100*(a-1),l=e.target.closest("#formula-arrow_right")?-100:100;s[a-1].classList.remove("active-item"),l<0?a++:a--,o.classList.remove("hide"),i.classList.remove("hide"),1===a&&o.classList.add("hide"),6===a&&i.classList.add("hide"),t({duration:500,timingplane:"easeInOutCubic",draw(e){r.style.left=n+l*e+"%",1===e&&s[a-1].classList.add("active-item")}})}}))})(),(()=>{const e=document.getElementById("repair-types"),r=e.querySelector(".nav-list-repair"),s=[...e.querySelectorAll(".repair-types-nav__item")],o=e.querySelector(".slider-arrow_left"),i=e.querySelector(".slider-arrow_right"),n=e.querySelector(".nav-arrow_left"),a=e.querySelector(".nav-arrow_right"),l=e.querySelector(".slider-counter-responsive"),c=l.querySelector(".slider-counter-content__current"),d=l.querySelector(".slider-counter-content__total"),u=e=>+e.className.replace(/[^\d]+/g,"")-1;let p=null;const h=()=>{o.classList.remove("hide"),i.classList.remove("hide"),0===p.currentSlide&&o.classList.add("hide"),p.currentSlide+1===p.slides.length&&i.classList.add("hide")},m=e=>{e!==p&&(p&&(p.slides[p.currentSlide].classList.remove("repair-slide-current"),p.classList.remove("active")),p=e,p.classList.add("active"),p.slides[p.currentSlide].classList.add("repair-slide-current"),c.textContent=p.currentSlide+1,d.textContent=p.slides.length,h(),r.style.left=-100*u(p)+"%",(()=>{const e=u(p);n.classList.remove("hide"),a.classList.remove("hide"),0===e&&n.classList.add("hide"),e===s.length-1&&a.classList.add("hide")})())};e.addEventListener("click",(e=>{let o;var i;(o=e.target.closest(".repair-types-nav__item"))?m(o):(o=e.target.closest(".slider-arrow"))?(i=o.classList.contains("slider-arrow_right")?1:-1,p.slides[p.currentSlide].classList.remove("repair-slide-current"),p.currentSlide=i>0?Math.min(p.slides.length-1,p.currentSlide+1):Math.max(0,p.currentSlide-1),p.slides[p.currentSlide].classList.add("repair-slide-current"),c.textContent=p.currentSlide+1,h()):(o=e.target.closest(".nav-arrow"))&&(e=>{const o=u(p),i=-100*o,n=-100*e;t({duration:300,timingplane:"easeInOutCubic",draw(t){r.style.left=i+n*t+"%",1===t&&m(s[o+e])}})})(o.classList.contains("nav-arrow_right")?1:-1)})),s.forEach(((t,r)=>{t.slides=[],t.sliders=e.querySelector(".types-repair"+(r+1)),t.currentSlide=0,t.sliders.querySelectorAll(".repair-types-slider__slide").forEach((e=>{t.slides.push(e)}))})),m(s[0])})(),document.taskDemo=0,document.dataСatalog=new s({url:"http://localhost:4545/items",urlDemo:"./dbDemo/items.json",errorMessageResponse:"Сервер базы данных недоступен. Запрос отменен."}),(()=>{const e=document.querySelector(".popup-repair-types"),r=e.querySelector(".nav-list-popup-repair"),s=e.querySelector(".popup-repair-types-content__head-title"),o=e.querySelector("#catalog"),i=e.querySelector(".nav-arrow_left"),n=e.querySelector(".nav-arrow_right"),a=e=>+e.className.replace(/[^\d]+/g,"")-1;let l=null;const c=(e,t)=>{const r=e.querySelector(".icon-sort");t||(t=r.classList.contains("asc")?"desc":r.classList.contains("desc")?"none":"asc"),o.shadowRoot.querySelectorAll(".icon-sort").forEach((e=>{e.classList.remove("asc","desc")})),"none"===t?o.records.sortOff():"asc"===t?(r.classList.add("asc"),o.records.sort("",1)):(r.classList.add("desc"),o.records.sort("",-1))},d=t=>{t!==l&&(l&&l.classList.remove("active"),l=t,l.classList.add("active"),s.textContent=l.textContent.trim(),(t=>{const r=e.data.filter((e=>e.type===t));o.data=r})(l.textContent.trim()),c(o.shadowRoot.querySelector(".column-head"),"asc"),o.y=0,r.style.left=-100*a(l)+"%",(()=>{const e=a(l);i.classList.remove("hide"),n.classList.remove("hide"),0===e&&i.classList.add("hide"),e===r.childElementCount-1&&n.classList.add("hide")})())};e.addEventListener("click",(e=>{let s;(s=e.target.closest(".popup-repair-types-nav__item"))?d(s):(s=e.target.closest(".nav-arrow"))&&(e=>{const s=a(l),o=-100*s,i=-100*e;t({duration:300,timingplane:"easeInOutCubic",draw(t){r.style.left=o+i*t+"%",1===t&&d(r.children[s+e])}})})(s.classList.contains("nav-arrow_right")?1:-1)})),o.shadowRoot.addEventListener("click",(e=>{const t=e.target.closest(".column-head");t&&c(t)})),(e=>{e.use({data:[],headingHeight:50,rowHeight:50,gapCol:0,hrefCSS:"./css/catalogHidden.css",columns:[{id:"name",width:345,widthMin:343,widthMax:343,when:e=>!0,head:()=>'<div class="column-head">Виды работ<span class="icon-sort">&#129093</span></div>',cell:"name"},{id:"units",width:100,widthMin:100,widthMax:100,when:e=>!0,head:()=>'<div class="column-head"><div class="min-width">Единицы измерения</div><span class="icon-sort">&#129093</span></div>',cell:"units",cellSay:e=>`<span class="units">${e.units}</span>`},{id:"cost",width:100,widthMin:100,widthMax:100,when:e=>!0,head:()=>'<div class="column-head"><div class="min-width">Цена за единицу</div><span class="icon-sort">&#129093</span></div>',cell:e=>+(e.cost+"").replace(/[^\d]+/g,""),cellSay:e=>`<span class="cost">${e.cost} руб</span>`},{id:"mini",width:300,widthMin:300,widthMax:300,when:e=>!0,head:" ",cellSay:e=>`<div class="mini-cell"><div class="mini-title">вид работы:</div><div class="mini-name">${e.name}</div><div class="mini-block"><div class="mini-units"><div class="mini-title mini-title-units">единица измерения:</div><div>${e.units}</div></div><div class="mini-cost"><div class="mini-title mini-title-cost">цена за единицу:</div><div>${e.cost} руб</div></div></div></div>`,hidden:!0}]})})(o),o.resize=e=>{const t=o.bigSize;t&&e<500?(o.columns.hiddenOff(3),o.columns.hidden(0),o.columns.hidden(1),o.columns.hidden(2),o.param.group={headingHeight:2,rowHeight:60},o.bigSize=!1):!t&&e>499&&(o.columns.hiddenOff(0),o.columns.hiddenOff(1),o.columns.hiddenOff(2),o.columns.hidden(3),o.param.group={headingHeight:50,rowHeight:50},o.bigSize=!0)},o.lgxy.param.xSide="none",o.bigSize=!0,document.dataСatalog.use().then((t=>{e.data=t,(()=>{const t=new Set;let s="";e.data.forEach((e=>t.add(e.type))),[...t].sort().forEach(((e,t)=>{s+=`<button class="button_o popup-repair-types-nav__item popup__item_${t+1} ">${e}\n        <svg width="259" height="46" fill="none" viewBox="0 0 259 46" preserveAspectRatio="none">\n        <path\n        d="M33.5 1h-10c-12.15 0-22 9.85-22 22s9.85 22 22 22h187M48.5 1h187c12.15 0 22 9.85 22 22s-9.85 22-22 22h-17.1"\n        stroke="#EEEBE5" stroke-width="2" stroke-linecap="round">\n        </path>\n        </svg>\n      </button>`})),r.innerHTML=s,r.style.width=100*r.childElementCount+"%",d(r.firstChild)})()}))})(),(()=>{const e=document.querySelector(".portfolio-slider-wrap"),s=e.querySelector(".portfolio-wrap-desktop"),o=s.querySelector(".portfolio-slider"),i=o.querySelectorAll(".portfolio-slider__slide-frame"),n=e.querySelector(".portfolio-wrap-mobile"),a=n.querySelector(".portfolio-slider-mobile"),l=a.querySelectorAll(".portfolio-slider__slide-frame"),c=l.length,d=c/2,u=e.querySelector("#portfolio-arrow_left"),p=e.querySelector("#portfolio-arrow_right"),h=e.querySelector("#portfolio-arrow-mobile_left"),m=e.querySelector("#portfolio-arrow-mobile_right"),f=n.querySelector(".slider-counter"),g=f.querySelector(".slider-counter-content__current"),_=f.querySelector(".slider-counter-content__total"),v=()=>{const e=-parseInt(o.style.left),t=o.currentWidth/d,r=Math.ceil((document.portfolioCurrentSlide+1)/2),i=Math.max(0,r*t-s.currentWidth),n=(r-1)*t-Math.max(0,s.currentWidth-(d-r+1)*t);e<i?o.style.left=-i+"px":e>n&&(o.style.left=-n+"px")},y=()=>{v(),a.style.left=100*-document.portfolioCurrentSlide+"%",g.textContent=document.portfolioCurrentSlide+1,u.classList.remove("hide"),p.classList.remove("hide"),h.classList.remove("hide"),m.classList.remove("hide"),document.portfolioCurrentSlide<2&&u.classList.add("hide"),document.portfolioCurrentSlide>c-3&&p.classList.add("hide"),0===document.portfolioCurrentSlide&&h.classList.add("hide"),document.portfolioCurrentSlide===c-1&&m.classList.add("hide")};e.addEventListener("click",(i=>{const n=i.target.closest(".mobile-hide");let l;(l=i.target.closest(".slider-arrow"))?n?(e=>{const r=-parseInt(o.style.left),i=o.currentWidth/d;let n,a;e>0?(n=Math.min(d,Math.round((r+s.currentWidth+i)/i)),a=r+(s.currentWidth-n*i)):(n=Math.max(1,Math.round(r/i)),a=r-(n-1)*i),document.portfolioCurrentSlide=2*(n-1)+(document.portfolioCurrentSlide%2?1:0),t({duration:400,timingplane:"easeInOutCubic",draw(e){o.style.left=a*e-r+"px",1===e&&y()}})})(l.classList.contains("slider-arrow_right")?1:-1):(e=>{const r=-100*document.portfolioCurrentSlide,s=-100*e;document.portfolioCurrentSlide=e>0?Math.min(c-1,document.portfolioCurrentSlide+1):Math.max(0,document.portfolioCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){a.style.left=r+s*e+"%",1===e&&y()}})})(l.classList.contains("slider-arrow_right")?1:-1):(l=i.target.closest(".portfolio-slider__slide-frame"))&&(document.portfolioCurrentSlide=l.number,((e,s)=>{const o=document.querySelector(".popup-portfolio"),i=o.querySelector(".popup-portfolio-slider"),n=o.querySelector(".popup-portfolio-slider-text"),a=i.querySelectorAll(".popup-portfolio-slider__slide").length,l=o.querySelector(".nav-arrow_left"),c=o.querySelector(".nav-arrow_right"),d=o.querySelector(".slider-counter"),u=d.querySelector(".slider-counter-content__current"),p=d.querySelector(".slider-counter-content__total"),h=()=>{i.style.left=100*-document.portfolioCurrentSlide+"%",n.style.left=100*-document.portfolioCurrentSlide+"%",u.textContent=document.portfolioCurrentSlide+1,l.classList.remove("hide"),c.classList.remove("hide"),0===document.portfolioCurrentSlide&&l.classList.add("hide"),document.portfolioCurrentSlide===a-1&&c.classList.add("hide")},m=l=>{let c;(c=l.target.closest(".nav-arrow"))?(e=>{const r=-100*document.portfolioCurrentSlide,s=-100*e;document.portfolioCurrentSlide=e>0?Math.min(a-1,document.portfolioCurrentSlide+1):Math.max(0,document.portfolioCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){i.style.left=r+s*e+"%",n.style.left=r+s*e+"%",1===e&&h()}})})(c.classList.contains("nav-arrow_right")?1:-1):(l.target.closest(".close")||l.target.closest(".popup")&&l.target.classList.contains("active-popup"))&&(o.removeEventListener("click",m),e.classList.remove("hide"),s(),r(".portfolio-title"))};o.addEventListener("click",m),p.textContent=a,h(),e.classList.add("hide")})(e,y),document.modalList.open("popup-portfolio"))})),e.resizeObserver=new window.ResizeObserver((e=>{e.forEach((e=>{let t,r;t=e.borderBoxSize1?Math.round(e.borderBoxSize[0].inlineSize):Math.round(e.contentRect.width),r=t-(e.target.currentWidth||0),e.target.currentWidth=t,e.target===s&&t&&r&&v()}))})),e.resizeObserver.observe(o),e.resizeObserver.observe(s),_.textContent=c,document.portfolioCurrentSlide=0,o.style.left="0px",i.forEach(((e,t)=>e.number=t)),l.forEach(((e,t)=>e.number=t))})(),(()=>{const e=document.querySelector(".reviews"),r=e.querySelector(".reviews-slider"),s=r.querySelectorAll(".reviews-slider__slide").length,o=e.querySelector(".slider-arrow_left"),i=e.querySelector(".slider-arrow_right");let n=0;e.addEventListener("click",(e=>{let a;(a=e.target.closest(".slider-arrow"))&&(e=>{const a=-100*n,l=-100*e;n=e>0?Math.min(s-1,n+1):Math.max(0,n-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){r.style.left=a+l*e+"%",1===e&&(r.style.left=100*-n+"%",o.classList.remove("hide"),i.classList.remove("hide"),0===n&&o.classList.add("hide"),n===s-1&&i.classList.add("hide"))}})})(a.classList.contains("slider-arrow_right")?1:-1)}))})(),(()=>{const e=document.querySelector(".transparency-slider"),s=e.querySelector(".transparency-slider-wrap").querySelector(".row"),o=s.querySelectorAll(".transparency-item"),i=o.length,n=e.querySelector("#transparency-arrow_left"),a=e.querySelector("#transparency-arrow_right"),l=()=>{s.style.left=100*-document.transparencyCurrentSlide+"%",n.classList.remove("hide"),a.classList.remove("hide"),0===document.transparencyCurrentSlide&&n.classList.add("hide"),document.transparencyCurrentSlide===i-1&&a.classList.add("hide")};e.addEventListener("click",(o=>{let n;(n=o.target.closest(".slider-arrow"))?(e=>{const r=-100*document.transparencyCurrentSlide,o=-100*e;document.transparencyCurrentSlide=e>0?Math.min(i-1,document.transparencyCurrentSlide+1):Math.max(0,document.transparencyCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){s.style.left=r+o*e+"%",1===e&&l()}})})(n.classList.contains("slider-arrow_right")?1:-1):(n=o.target.closest(".transparency-item"))&&(document.transparencyCurrentSlide=n.number,((e,s)=>{const o=document.querySelector(".popup-transparency"),i=o.querySelector(".popup-transparency-slider"),n=i.querySelectorAll(".popup-transparency-slider__slide").length,a=o.querySelector(".nav-arrow_left"),l=o.querySelector(".nav-arrow_right"),c=o.querySelector("#transparency-popup-counter"),d=c.querySelector(".slider-counter-content__current"),u=c.querySelector(".slider-counter-content__total"),p=()=>{i.style.left=100*-document.transparencyCurrentSlide+"%",d.textContent=document.transparencyCurrentSlide+1,a.classList.remove("hide"),l.classList.remove("hide"),0===document.transparencyCurrentSlide&&a.classList.add("hide"),document.transparencyCurrentSlide===n-1&&l.classList.add("hide")},h=a=>{let l;(l=a.target.closest(".nav-arrow"))?(e=>{const r=-100*document.transparencyCurrentSlide,s=-100*e;document.transparencyCurrentSlide=e>0?Math.min(n-1,document.transparencyCurrentSlide+1):Math.max(0,document.transparencyCurrentSlide-1),t({duration:400,timingplane:"easeInOutCubic",draw(e){i.style.left=r+s*e+"%",1===e&&p()}})})(l.classList.contains("nav-arrow_right")?1:-1):(a.target.closest(".close")||a.target.closest(".popup")&&a.target.classList.contains("active-popup"))&&(o.removeEventListener("click",h),e.classList.remove("hide"),s(),r(".transparency-title"))};o.addEventListener("click",h),u.textContent=n,p(),e.classList.add("hide")})(e,l),document.modalList.open("popup-transparency"))})),o.forEach(((e,t)=>e.number=t)),document.transparencyCurrentSlide=0,l()})(),(()=>{const e=document.querySelector(".accordion"),t=[...e.children];let s=-1;e.addEventListener("click",(e=>{const o=e.target.closest("h2");o&&(e=>{const o=t.findIndex((t=>t===e)),i="accordion-more-active",n=~s?t[s].firstElementChild.nextElementSibling:null,a=s===o?null:e.firstElementChild.nextElementSibling;~s&&(s<o&&(n.style.transition="max-height 0s ease-out",window.scrollTo(0,window.scrollY-parseInt(n.style.maxHeight))),t[s].classList.remove(i),n.style.maxHeight=""),s===o?s=-1:(e.classList.add(i),a.style.maxHeight=a.scrollHeight+"px",window.setTimeout((()=>{r(".accordion-more-active",500),~s&&(n.style.transition=""),s=o}),0))})(o.parentElement)}))})()})();